# 自习室座位智能预约系统的设计与实现

## 技术选型

- 后端：Spring Boot
- 前端：Vue.js
- 安全认证：JWT + MD5（登录密码加密）
- 数据交互：RESTful API
- 静态资源：图片资源放入前端项目 `public/img/` 或 `assets/` 目录

## 项目结构说明（共30个菜单模块）

分为 **用户端** 和 **管理员端** 两大端口。

## 一、用户端（18个菜单模块）

1. 用户注册
2. 用户登录（JWT + MD5 密码校验）
3. 首页（公告、系统简介展示）
4. 个人中心（查看/修改个人信息、密码修改）
5. 座位预约
6. 我的预约记录
7. 实时座位查询（查看自习室剩余座位）
8. 自习室地图展示（带座位编号）
9. 自习规则浏览
10. 预约结果通知
11. 签到功能（扫码或点击签到）
12. 违规记录查看（迟到/未签到）
13. 消息通知（系统公告/预约变动）
14. 意见反馈提交
15. 帮助中心
16. 收藏座位
17. 自动推荐座位
18. 退出登录

### 模块间关系与页面跳转流程

#### 用户注册与登录

- 注册按钮 → 提交信息（用户名、密码MD5、邮箱/手机号） → 成功跳转到登录页
- 登录按钮 → 成功后获取JWT → 跳转到首页

#### 首页（系统公告、公告跳转）

- 公告列表 → 查看详情按钮 → 公告详情弹窗或跳转页面
- 顶部导航 → 个人中心、座位预约、帮助中心、退出登录按钮

#### 个人中心

- 修改头像（图片上传）按钮 → 打开上传对话框（支持预览） → 上传至后端 → 显示预览
- 修改密码 → 输入旧密码 + 新密码两次 → 提交校验 → 显示成功或失败提示

#### 座位预约

- 选择自习室 → 跳转显示该房间所有座位布局
- 点击座位编号 → 弹出预约弹窗 → 选择时间段 + 预约按钮 → 提交 → 预约记录中新增一条
- 剩余座位按钮 → 显示当前空位数量
- 地图查看 → 跳转到地图展示页面

#### 我的预约记录

- 查看所有预约记录 → 状态（待签到/已签到/已过期）→ 可点击取消按钮（状态为“待签到”时）

#### 实时座位查询

- 下拉选择自习室 + 日期 → 查询 → 返回空闲座位列表（带编号）

#### 自习室地图展示

- 使用图片（从`assets/img/rooms/`中）展示房间平面图 → 鼠标悬浮可显示座位编号状态

#### 自习规则浏览

- 展示系统规则列表，按编号列出，不可编辑

#### 预约结果通知

- 成功预约后 → 系统生成通知记录 → 在“消息通知”页中展示 → 点击可查看预约详情

#### 签到功能

- 今日预约记录 → 出现“签到”按钮 → 点击后 → 后端记录时间 → 显示签到成功
- 若未签到超时 → 自动进入违规记录

#### 违规记录查看

- 展示每条违规信息 → 包含预约编号、时间、违规类型

#### 消息通知

- 每条记录展示标题 → 点击查看详情内容 → 标记为已读

#### 意见反馈提交

- 表单输入框 + 提交按钮 → 提交到后端 → 管理员可查看

#### 帮助中心

- FAQ 页面 → 点击问题展开答案 → 可返回顶部

#### 收藏座位

- 座位详情中点击“收藏”按钮 → 收藏成功后 → 可在首页快速选择

#### 自动推荐座位

- 自动按钮 → 获取用户历史偏好时间段 → 推荐最合适空座 → 可一键预约

#### 退出登录

- 点击后 → 清除JWT → 跳转到登录页

## 二、管理员端（12个菜单模块）

1. 管理员登录
2. 后台首页（数据统计面板）
3. 用户信息管理
4. 自习室信息管理（添加/修改/删除房间）
5. 座位信息管理（添加/修改/设置禁用）
6. 用户预约记录管理
7. 违规行为管理（迟到/缺席）
8. 公告发布与管理
9. 消息推送管理（给用户发通知）
10. 意见反馈查看与回复
11. 数据报表导出（按天/周/月）
12. 管理员密码修改

### 页面跳转与功能按钮说明

#### 管理员登录

- 输入账号密码 → 登录成功 → 跳转后台首页

#### 后台首页

- 显示用户数、预约数、违规数、反馈数 → 每个卡片可点击跳转到对应模块

#### 用户信息管理

- 表格展示所有用户 → 修改按钮 → 弹窗编辑用户信息 → 删除按钮（确认提示）

#### 自习室信息管理

- 添加按钮 → 弹出表单（房间号、名称、楼层、图片上传）
- 修改按钮 → 编辑已存在信息
- 删除按钮 → 删除房间及其座位信息

#### 座位信息管理

- 列表展示所有座位 → 添加、修改、设置禁用按钮
- 每个座位可关联所属自习室 → 修改座位编号、状态

#### 用户预约记录管理

- 按用户名、日期筛选 → 查看记录详情按钮
- 状态筛选（待签到、已签到、缺席）

#### 违规行为管理

- 查看每条违规记录 → 按违规类型统计 → 可导出为Excel

#### 公告发布与管理

- 添加公告 → 标题、内容、是否置顶、发布时间
- 编辑按钮、删除按钮
- 公告发布后，用户端首页和消息模块可见

#### 消息推送管理

- 创建消息 → 内容、接收用户、推送时间
- 已发消息列表可查看状态、删除

#### 意见反馈查看

- 展示用户提交内容 → 可点击“回复”按钮弹窗 → 回复内容自动发送给用户消息模块

#### 数据报表导出

- 筛选日期 → 一键导出预约报表/签到报表/违规记录（Excel）

#### 管理员密码修改

- 输入旧密码 + 新密码两次 → 提交修改 → 修改成功后强制重新登录

## 图片上传说明

### 用户端头像上传

- 点击头像 → 选择图片 → 上传 → 接口返回URL → 存入数据库
- 图片通过Vue的 `v-model` 绑定头像地址，实时预览

### 自习室平面图上传（管理员）

- 添加/编辑自习室时 → 上传按钮 → 选择房间平面图 → 保存后前端页面根据房间编号读取对应图片

### 图片存储路径

- 用户头像、自习室图：前端项目 `src/assets/img/` 中管理，图片路径存数据库中字段（如avatar_url）
- 后端提供上传接口，将图片移动到资源目录并返回访问地址